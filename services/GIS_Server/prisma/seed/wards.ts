/* eslint-disable @typescript-eslint/no-unsafe-assignment */
/* eslint-disable @typescript-eslint/no-unsafe-member-access */
import { Prisma, PrismaClient } from '@prisma/client';
import cuid from 'cuid';

const wardsData = {
  Q1: [
    {
        code: '26737',
        name: 'Phường Tân Định',
        geom: 'POLYGON((106.7035701 10.792692, 106.7027512 10.7918246, 106.7015225 10.7905213, 106.6995942 10.7884806, 106.6959855 10.7846839, 106.6937592 10.7864616, 106.6919922 10.7878726, 106.6908273 10.7888038, 106.689793 10.7896323, 106.6896856 10.7897171, 106.6893447 10.7899889, 106.6877188 10.7912886, 106.6861498 10.7925061, 106.6862779 10.792689, 106.686358 10.7928242, 106.6863825 10.7928942, 106.6863951 10.7929757, 106.6863946 10.7930891, 106.6863497 10.7932013, 106.6862255 10.7933609, 106.685342 10.7941097, 106.6852103 10.7942599, 106.6851211 10.7944282, 106.6850667 10.7946235, 106.6850308 10.7948165, 106.684874 10.7959517, 106.6848646 10.7961678, 106.684886 10.7963733, 106.6849599 10.7965626, 106.6851077 10.7967511, 106.6852732 10.7968688, 106.685433 10.7969315, 106.6856013 10.7969493, 106.6857755 10.7969297, 106.6859486 10.7968624, 106.6861233 10.7967384, 106.6862439 10.7965729, 106.6865603 10.7959327, 106.6868504 10.7952926, 106.6869427 10.7951322,106.6870471 10.7950112, 106.687202 10.7949107, 106.6873877 10.7948627, 106.6875889 10.7948706, 106.6877807 10.7949321, 106.6879857 10.7950256, 106.6887751 10.7954689, 106.6889405 10.7955367, 106.689155 10.7955932, 106.6894209 10.7956353, 106.6905383 10.7957864, 106.6907597 10.7957902, 106.6910467 10.7957646, 106.6912865 10.795706, 106.691528 10.7955806, 106.6923324 10.7950235, 106.6925056 10.7949224, 106.6926141 10.7948798, 106.6927413 10.7948523, 106.6929253 10.794839, 106.693174 10.7948774,106.6937304 10.7949633, 106.6940367 10.7949753, 106.6942276 10.7949547, 106.6943564 10.7948981, 106.6944483 10.794811, 106.694505 10.7946929, 106.6945368 10.7945495, 106.6945489 10.7943478, 106.6945432 10.7939072, 106.6946043 10.7937444, 106.6946965 10.7936121, 106.6948515 10.7935112, 106.6950206 10.7934546, 106.69522 10.7934345, 106.695646 10.7934743, 106.695999 10.7935198,106.6967061 10.7936287, 106.69701 10.7936542, 106.6973197 10.7936608, 106.6975477 10.7936535, 106.6981251 10.793629, 106.698929 10.7935728, 106.6994158 10.7935269, 106.6998536 10.7934671, 106.7004888 10.7933411, 106.7014587 10.793154, 106.7023161 10.7929778, 106.7032122 10.7927802, 106.7035701 10.792692))',
    },
    {
      code: '26740',
      name: 'Phường Sài Gòn',
      geom: 'POLYGON((106.6950078 10.77958, 106.6981274 10.7828849, 106.6970435 10.7838172, 106.6959855 10.7846839, 106.6995942 10.7884806,106.7015225 10.7905213, 106.7027512 10.7918246, 106.7035701 10.792692, 106.704088 10.7925643, 106.7049052 10.7923393, 106.7051947 10.7922433, 106.7055456 10.7921198, 106.7058508 10.791992, 106.706107 10.7918405, 106.7063782 10.7916535,106.7065674 10.7915009, 106.7067238 10.7913608, 106.7068481 10.7911877, 106.7069502 10.7909776, 106.707287 10.7900121, 106.7075247 10.7892194, 106.707618 10.7890035, 106.7077387 10.7887963, 106.7079512 10.7885031, 106.708266 10.7881485, 106.708727 10.7877518, 106.7089703 10.7876077, 106.7092099 10.7875365, 106.7094406 10.787511,106.7097488 10.7875051, 106.7100891 10.7875209, 106.7104274 10.78756, 106.7113755 10.787694, 106.7118759 10.7877139, 106.7123839 10.7876501, 106.7128377 10.7874826, 106.7132733 10.7872496, 106.7134707 10.7871149, 106.7136632 10.7869735, 106.7138505 10.7868255, 106.7140324 10.7866711, 106.7142086 10.7865104, 106.714379 10.7863438, 106.7145285 10.7861874, 106.7146728 10.7860264, 106.7148118 10.785861, 106.7149453 10.7856912, 106.7150732 10.7855174, 106.7151363 10.7854298, 106.7151954 10.7853396, 106.714661 10.7851059, 106.7143551 10.7849562, 106.7140538 10.7847979, 106.7137574 10.784631, 106.7134659 10.7844557, 106.7131932 10.784281, 106.7126629 10.7839097, 106.7121543 10.7835101, 106.711747 10.7831456, 106.7113623 10.7827581, 106.7111788 10.7825562, 106.710837 10.7821452, 106.7105259 10.7817241, 106.7103796 10.7815073, 106.710106 10.7810618, 106.7097352 10.7803638, 106.7095616 10.7800089, 106.7094989 10.7798731,106.7092598 10.7793384, 106.7091297 10.7790239, 106.7088877 10.7783879, 106.7087636 10.7780253, 106.7086489 10.7776597, 106.7085436 10.7772914, 106.7084479 10.7769206, 106.7083645 10.7765599, 106.70829 10.7761973, 106.7081897 10.7756075, 106.708136 10.7751802, 106.7080569 10.7742841, 106.7080071 10.7733719, 106.7079956 10.7729456, 106.7080073 10.7722411, 106.7080204 10.771889, 106.7080696 10.7710626, 106.7081041 10.7706501, 106.7081291 10.7704852, 106.7081934 10.7701579, 106.7082991 10.7697601,106.7060486 10.7690684, 106.7056291 10.7689242, 106.7052267 10.7687638, 106.7044202 10.7684069, 106.7038639 10.7681835, 106.7036651 10.7680873, 106.7035693 10.7680314, 106.7027803 10.767227, 106.7019548 10.7691477, 106.7012858 10.7707042, 106.7011693 10.7709753, 106.7008113 10.7718214, 106.6995952 10.7746588, 106.6990924 10.7758322, 106.6990741 10.775849, 106.6950078 10.77958))',
    },
    {
      code: '26743',
      name: 'Phường Bến Thành',
      geom: 'POLYGON((106.6995952 10.7746588, 106.7008113 10.7718214, 106.7011693 10.7709753, 106.7012858 10.7707042, 106.7019548 10.7691477, 106.7027803 10.767227, 106.7022939 10.7667311, 106.7019895 10.7662489, 106.7017639 10.7659416, 106.7015167 10.7656508, 106.7013854 10.7655121, 106.7012615 10.7653964, 106.7011685 10.7653164, 106.7006234 10.7648998, 106.7003285 10.7646745, 106.6992976 10.7640539, 106.698744 10.7637206, 106.6985112 10.7635624, 106.6984014 10.7634747, 106.6981962 10.7632832, 106.6971852 10.7649958, 106.6954015 10.7680175, 106.6943261 10.7667986, 106.6929321 10.7652185,106.6926797 10.7649325, 106.6907309 10.7641751, 106.6907164 10.7643299, 106.6907009 10.7644061, 106.6906524 10.7645577, 106.6906191 10.764632, 106.6905965 10.7646738,106.6905804 10.7647038, 106.6901616 10.7652784, 106.6895655 10.7660964, 106.6895155 10.7661499, 106.6894408 10.7661972, 106.6892369 10.766291, 106.688797 10.7664656, 106.6882237 10.766679, 106.6844859 10.7683635, 106.6850096 10.7689294, 106.6860862 10.7700708, 106.6872023 10.771254, 106.6894253 10.7736121, 106.6916481 10.7760037, 106.6930249 10.7774849, 106.6950078 10.77958, 106.6990741 10.775849, 106.6990924 10.7758322, 106.6995952 10.7746588))',
    },
    {
      code: '26758',
      name: 'Phường Cầu Ông Lãnh',
      geom: 'POLYGON((106.6844859 10.7683635, 106.6882237 10.766679, 106.688797 10.7664656, 106.6892369 10.766291, 106.6894408 10.7661972, 106.6895155 10.7661499, 106.6895655 10.7660964, 106.6901616 10.7652784, 106.6905804 10.7647038, 106.6905965 10.7646738, 106.6906191 10.764632, 106.6906524 10.7645577, 106.6907009 10.7644061, 106.6907164 10.7643299, 106.6907309 10.7641751, 106.6926797 10.7649325, 106.6929321 10.7652185, 106.6943261 10.7667986, 106.6954015 10.7680175, 106.6971852 10.7649958, 106.6981962 10.7632832, 106.6980962 10.763174, 106.6979152 10.7629406, 106.6975544 10.7624004, 106.6969214 10.7615408,106.6964158 10.7609736, 106.6961919 10.7606738, 106.6960547 10.7605151, 106.6959129 10.7603701, 106.6954617 10.7599781, 106.694486 10.7592226, 106.6926943 10.7582542, 106.6916093 10.7575954, 106.6906724 10.7567447, 106.6897117 10.7559422, 106.6887473 10.7549482, 106.6881266 10.7543877, 106.6872139 10.7535894, 106.6868652 10.7539537, 106.6867532 10.7541342, 106.6868182 10.7541771, 106.6856442 10.7556556, 106.6855769 10.7557525, 106.6855153 10.755853, 106.6854615 10.7559531, 106.6850822 10.7567858, 106.6839979 10.7594898, 106.6833177 10.7611911, 106.6820697 10.764324, 106.6816889 10.7654323, 106.6819723 10.7657273, 106.6842777 10.7681451, 106.6844859 10.7683635))',
    },
  ],
  Q3: [
    {
      code: '26860',
      name: 'Phường Võ Thị Sáu',
      geom: 'POLYGON((106.685 10.787, 106.696 10.787, 106.696 10.779, 106.685 10.779, 106.685 10.787))',
    },
    {
      code: '26851',
      name: 'Phường 4',
      geom: 'POLYGON((106.678 10.780, 106.686 10.780, 106.686 10.774, 106.678 10.774, 106.678 10.780))',
    },
  ],
  Q4: [
    {
      code: '27043',
      name: 'Phường 1',
      geom: 'POLYGON((106.700 10.763, 106.706 10.763, 106.706 10.758, 106.700 10.758, 106.700 10.763))',
    },
    {
      code: '27052',
      name: 'Phường 6',
      geom: 'POLYGON((106.695 10.758, 106.702 10.758, 106.702 10.753, 106.695 10.753, 106.695 10.758))',
    },
  ],
};

export async function seedWards(prisma: PrismaClient) {
  let seededCount = 0;
  for (const districtCode in wardsData) {
    const district = await prisma.district.findUnique({
      where: { code: districtCode },
    });

    if (!district) {
      console.warn(
        `District with code ${districtCode} not found. Skipping its wards.`,
      );
      continue;
    }

    const wardsForDistrict = wardsData[districtCode];
    for (const ward of wardsForDistrict) {
      await prisma.$executeRaw(Prisma.sql`
                INSERT INTO "public"."wards" (id, code, name, geom, "districtId", "updatedAt")
                VALUES (
                    ${cuid()},
                    ${ward.code},
                    ${ward.name},
                    ST_GeomFromText(${ward.geom}, 4326),
                    ${district.id},
                    NOW()
                )
            `);
      seededCount++;
    }
  }
  console.log(`   > Seeded ${seededCount} wards.`);
}
