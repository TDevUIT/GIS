<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>ArcGIS JavaScript Tutorials: Create a Starter App</title>
  <style>
    html, body, #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>

    <link rel="stylesheet" href="https://js.arcgis.com/4.26/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.26/"></script>

  <script>
	var point_template_tree = {
					title: "{Name}",
					content: "C√¢y n√†y ·ªü <b>{Location}</b>."
				};
	var point_template_light = {
					title: "{Name}",
					content: "B√≥ng ƒë√®n n√†y ·ªü <b>{Location}</b>."
				};
	var point_template_chair = {
					title: "{Name}",
					content: "C√°i gh·∫ø n√†y ·ªü <b>{Location}</b>."
				};
	var point_template_area = {
					title: "{Name}",
					content: "Khu v·ª±c n√†y ·ªü <b>{Location}</b>."
				};
	var point_template_university = {
					title: "{Name}",
					content: "Tr∆∞·ªùng ·ªü <b>{Location}</b>."
				};
	var jsondata = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "name": "ƒê∆∞·ªùng ranh gi·ªõi B·ªánh Vi·ªán Qu√¢n Y 175",
        "description": "ƒê∆∞·ªùng ranh gi·ªõi khu v·ª±c B·ªánh Vi·ªán Qu√¢n Y 175"
      },
      "geometry": {
        "coordinates": [
          [
            106.67881736513618,
            10.814785583933514
          ],
          [
            106.67889177877368,
            10.822201630391959
          ],
          [
            106.68084738065505,
            10.822159873418457
          ],
          [
            106.68236722342067,
            10.822118116438403
          ],
          [
            106.68261698779139,
            10.821737083731847
          ],
          [
            106.68238847996304,
            10.82148654141372
          ],
          [
            106.68229813965917,
            10.82089150256941
          ],
          [
            106.68185706640776,
            10.820813207897245
          ],
          [
            106.68169764239082,
            10.818918470458968
          ],
          [
            106.68214257950672,
            10.818764795117858
          ],
          [
            106.6789081620837,
            10.81468245639816
          ],
          [
            106.67881690240165,
            10.814785258184116
          ],
          [
            106.67906299173876,
            10.814906790667507
          ],
          [
            106.67882394152758,
            10.8148209738509
          ]
        ],
        "type": "LineString"
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "B·ªánh Vi·ªán Qu√¢n Y 175",
        "address": "786 Nguy·ªÖn Ki·ªám, Ph∆∞·ªùng 3, Qu·∫≠n G√≤ V·∫•p, TP.HCM",
        "type": "B·ªánh vi·ªán qu√¢n ƒë·ªôi",
        "established": "1975",
        "area": "Khu v·ª±c y t·∫ø qu√¢n s·ª±"
      },
      "geometry": {
        "type": "Polygon",
        "symbol": {
          "type": "simple-fill",
          "color": [227, 139, 79, 0.4],
          "outline": {
            "color": [255, 255, 255],
            "width": 1
          }
        },
        "coordinates": [
          [
            [106.68050000000000, 10.818500000000000],
            [106.68050000000000, 10.819000000000000],
            [106.68100000000000, 10.819000000000000],
            [106.68100000000000, 10.818500000000000],
            [106.68050000000000, 10.818500000000000]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Trung t√¢m B·ªánh Vi·ªán Qu√¢n Y 175",
        "type": "ƒêi·ªÉm trung t√¢m",
        "description": "V·ªã tr√≠ trung t√¢m c·ªßa khu v·ª±c B·ªánh Vi·ªán Qu√¢n Y 175"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [106.68075000000000, 10.818750000000000]
      }
    }

  ]
};
    require([
      "esri/Map",
      "esri/views/MapView",
      "esri/Graphic",
      "esri/layers/GraphicsLayer"
    ], function(Map, MapView, Graphic, GraphicsLayer) {

		var map = new Map({
		basemap: "topo-vector"
		});
		 map.on("load", function(){
          map.graphics.enableMouseEvents();
        });

		var view = new MapView({
		container: "viewDiv",
		map: map,
		center: [106.6808, 10.8188],
		zoom: 15,
          highlightOptions: {
            color: "blue"
          }
		});
		var graphicsLayer = new GraphicsLayer();

		var lineSymbol = {
			type: "simple-line",
			color: [255, 87, 34],
			width: 3,
			style: "solid"
		};

		var polygonSymbol = {
			type: "simple-fill",
			color: [33, 150, 243, 0.6],
			outline: {
				color: [21, 101, 192],
				width: 2
			}
		};

		var pointSymbol = {
			type: "picture-marker",
			url: "https://cdn-icons-png.flaticon.com/128/619/619155.png",
			width: "56px",
			height: "56px"
		};

		jsondata.features.forEach(function(feature) {
			var geometry;
			var symbol;
			var popupTemplate;

			if (feature.geometry.type === "LineString") {
				geometry = {
					type: "polyline",
					paths: [feature.geometry.coordinates]
				};
				symbol = lineSymbol;
				popupTemplate = {
					title: feature.properties.name,
					content: "<b>M√¥ t·∫£:</b> {description}<br/><b>Lo·∫°i:</b> ƒê∆∞·ªùng ranh gi·ªõi"
				};

				var lineGraphic = new Graphic({
					geometry: geometry,
					symbol: symbol,
					attributes: feature.properties,
					popupTemplate: popupTemplate
				});
				graphicsLayer.add(lineGraphic);

				var polygonGeometry = {
					type: "polygon",
					rings: [feature.geometry.coordinates]
				};

				var polygonFill = {
					type: "simple-fill",
					color: [255, 193, 7, 0.4],
					outline: {
						color: [255, 152, 0],
						width: 2
					}
				};

				var polygonGraphic = new Graphic({
					geometry: polygonGeometry,
					symbol: polygonFill,
					attributes: { name: feature.properties.name + " (fill)" },
					popupTemplate: {
						title: feature.properties.name,
						content: "ƒê√¢y l√† v√πng ƒë∆∞·ª£c fill t·ª´ ƒë∆∞·ªùng ranh gi·ªõi."
					}
				});

				graphicsLayer.add(polygonGraphic);

				return;
			} else if (feature.geometry.type === "Polygon") {
				geometry = {
					type: "polygon",
					rings: feature.geometry.coordinates
				};
				symbol = polygonSymbol;
				popupTemplate = {
					title: feature.properties.name,
					content: `
						<div style="font-family: Arial, sans-serif;">
							<p><b>üìç ƒê·ªãa ch·ªâ:</b> {address}</p>
							<p><b>üèõÔ∏è Lo·∫°i:</b> {type}</p>
							<p><b>üìÖ Th√†nh l·∫≠p:</b> {established}</p>
							<p><b>üó∫Ô∏è Khu v·ª±c:</b> {area}</p>
							<p><b>‚ÑπÔ∏è M√¥ t·∫£:</b> Tr·ª• s·ªü ch√≠nh c·ªßa ch√≠nh quy·ªÅn th√†nh ph·ªë</p>
						</div>
					`
				};
			} else if (feature.geometry.type === "Point") {
				geometry = {
					type: "point",
					longitude: feature.geometry.coordinates[0],
					latitude: feature.geometry.coordinates[1]
				};
				symbol = pointSymbol;
				popupTemplate = {
					title: feature.properties.name,
					content: `
						<div style="font-family: Arial, sans-serif; text-align: center;">
							<p><b>üìç {type}</b></p>
							<p>{description}</p>
							<p style="color: #1976D2;"><b>T·ªça ƒë·ªô:</b><br/>
							Kinh ƒë·ªô: ${feature.geometry.coordinates[0].toFixed(6)}<br/>
							Vƒ© ƒë·ªô: ${feature.geometry.coordinates[1].toFixed(6)}</p>
						</div>
					`
				};
			}

			var graphic = new Graphic({
				geometry: geometry,
				symbol: symbol,
				attributes: feature.properties,
				popupTemplate: popupTemplate
			});
			graphicsLayer.add(graphic);
		});

		map.add(graphicsLayer);


    });
  </script>
</head>
<body>
  <div id="viewDiv"></div>
</body>
</html>
